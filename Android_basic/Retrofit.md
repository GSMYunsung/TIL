
```
❗ 들어가기전!
      
    REST : 서버에 존재하는 데이터에 접근하기 위한 규칙의 모음 (행위,자원,표현) 으로 이루어져있다.
    REST API : REST 원칙을 잘 준수하는 API , HTTP를 설계할 때 지켜야 할 아키텍처 입니다.

    Retrofit & OkHttp 는 서버와 클라이언트 간 http 통신을 위한 클라이언트 라이브러리 입니다.
    또한 OKhttp 는 Retorfit 의 베이스가 되고, Retrofit 은 REST API 방식을 사용합니다.
 ```   

 

Okhttp는 REST API, HTTP 통신을 간편하게 구현할 수 있도록 다양한 기능을 제공해주는 라이브러리이다.

 

Retrofit이라는 라이브러리의 베이스가 된다.

그리고 Retrofit은 OkHttp를 기반으로 만들어졌다.

Retrofit

api에 특화된 CRUD(Create(생성), Read(읽기), Update(갱신), Delete(삭제))

방식의 웹 서버 연결을 편하게 구현할 수 있는 라이브러리

 

장점

annotation 방식 으로 구현이 쉽다
       코드에 좀 특별한 주석을 달아 의미를 부여

 

       @GET @POST @PUT @Override @NonNull @Nullable .....

 

    2. 가독성, 성능, 유지보수, 재사용성 이 좋다.

 

    3. Retrofit 은 자동적으로 JSON 응답을 직렬화 할 수 있다.

 

궁극적으로 사용하는 이유

연결
캐싱
실패한 요청을 재시도
Threading
응답 분석
오류 처리
보통 http를 개발한다면, 위의 것들을 고려해야한다.

하지만 하나하나 개발자가 구현하다보면 배보다 배꼽이 커지게 될것이다.

고로, 적절한 라이브러리를 잘 운용해야한다.

 


하지만 Retrofit이 가장 응답속도가 빠르기때문에 Retrofit 을 가장 많이 사용하게 된것이다.
 

Retrofit 의 이용 준비 및 구조

 

Retrofit 을 이용해 통신을 하려면 실제 서버의 연동을 실행하는 Call 객체가 필요합니다. 하지만 이 Call 객체는

개발자가 직접 만드는것이 아닌 개발자는 설계도 (interface) 로만 설계해주면 Retrofit 이 알아서 만들어준다.

 


 

개발자가 네트워크를 연결하기 위해 인터페이스에 네트워킹 시 호출해야 할 함수들을 등록한다.

그렇게 추상 함수로 작성된 인터페이스를 Retrofit에 전달하면 Retrofit에서 인터페이스의 함수를 구현해 실제 네트워킹을 진행해 주는 Service 객체를 반환해준다.

이 Service 객체가 바로 Call 객체를 반환해주는 객체이다.

이렇게 Service 객체를 획득하고 실제 네트워킹이 필요한 순간에 Service의 함수를 호출하여 Call 객체를 받고 개발자는 간편하게 Call 객체에게 일을 시키면 된다.

 

❗ 번외 (http 응답 코드)

200 : 클라이언트의 요청을 정상적으로 수행
201 : 클라이언트의 생성 요청을 정상적으로 수행
301 : 클라이언트가 요청한 리소스에 대한 URI가 변경 되었음
400 : 클라이언트가 부적절한 요청을 함
401 : 클라이언트가 인증되지 않은 상태에서 요청함
403 : 적절하지 않은 리소스를 클라이언트가 요청함
404 : 페이지를 찾을 수 없음
405 : 클라이언트가 요청한 리소스에서 사용할 수 없는 Method를 사용함
500 : 서버에 문제가 발생
 
